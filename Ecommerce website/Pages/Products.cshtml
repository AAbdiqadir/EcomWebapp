@page
@using Microsoft.AspNetCore.Identity
@using Ecommerce_website.Models

@inject SignInManager<AppUser> SignInManager
@inject UserManager<AppUser> UserManager


@model ProductsModel
@{
    
} <p class = "prod">All products</p>
<form class= "search" method = "post">
    <label asp-for = "search"></label>
    <input asp-for = "search" />
    <input type = "submit" value = "search"/>

</form>
<div class = "products" id="products">
     @foreach  (var product in Model.products){         
                <div class=" allproducts " >
                    <a asp-page="productthumbnail" asp-page-handler="add" asp-route-id="@product.Id"><img src="@product.ProductImage"  alt=""></a>
         
             

            @if (SignInManager.IsSignedIn(User))
            {
                <a class="btn btn-danger buttons button "  asp-page = "Products" asp-route-id="@product.Id" asp-page-handler = "Delete" >Delete</a>
                <a asp-route-id="@product.Id" asp-page = "Form" asp-page-handler = "Update" class="btn btn-danger update button1 button ">Update</a>
            }

                    <a class = "tag"asp-page="productthumbnail" asp-page-handler="add" asp-route-id="@product.Id">@product.Name</a>
                    <p >£@product.Price</p>
                   
                </div>
     }
</div>




